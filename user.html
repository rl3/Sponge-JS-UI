
<template name="loginPanel">
    <div id="login-panel">
        <form>
            <table>
                <tr><th colspan="2" align="center">Please log in first!</th></tr>
                {{#if error}}
                    <tr><td colspan="2" align="center" class="alert alert-error">{{error}}</td></tr>
                {{/if}}
                <tr><th align="right">User Name:</th><td><input type="text" name="username" /></td></tr>
                <tr><th align="right">Password:</th><td><input type="password" name="password" /></td></tr>
                <tr><td></td><td><button class="btn btn-primary btn-block" type="submit">Login</button></td></tr>
            </table>
        </form>
    </div>
</template>

<template name="userEdit">
    <div id="user-profile-panel">
        <form>
            <table>
                <tr><th colspan="2" align="center">{{username}}'s Profile</th></tr>
                {{#if error}}
                    <tr><td colspan="2" align="center" class="alert alert-error">{{error}}</td></tr>
                {{/if}}
                {{#if success}}
                    <tr><td colspan="2" align="center" class="alert alert-success">{{success}}</td></tr>
                {{/if}}
                <tr><th align="right">User Name:</th><td>{{#if newUser}}<input type="text" name="user-name" value="" />{{else}}{{username}}{{/if}}</td></tr>
                <tr><th align="right">Full Name:</th><td><input type="text" name="full-name" value="{{profile.name}}" /></td></tr>
                {{#if isAdmin}}
                    <tr><th align="right">Change Password:</th><td><label><input type="checkbox" name="change-pw-allowed" checked={{chpwAllowedChecked}} /> User has right to change the password</label></td></tr>
                {{/if}}
                {{#if changePasswordAllowed}}
                    {{#if needOldPassword}}
                        <tr><th align="right">Old Password:</th><td><input type="password" name="old-password" value="" autocomplete="off" /></td></tr>
                    {{/if}}
                    <tr><th align="right">New Password:</th><td><input type="password" name="new-password" value="" autocomplete="off" /></td></tr>
                    <tr><th align="right">New Password:<div class="comment">repeated</div></th><td><input type="password" name="new-password2" value="" autocomplete="off" /></td></tr>
                    <tr><th colspan="2" align="center">Agrohyd API Credentials</th></tr>
                    <tr><th align="right">API User Name:</th><td><input type="text" name="api-user-name" value="{{profile.agrohyd.apiUser}}" /></td></tr>
                    <tr><th align="right">API Password:</th><td><input type="password" name="api-password" value="" autocomplete="off" /></td></tr>
                    <tr><th align="right">API Password:<div class="comment">repeated</div></th><td><input type="password" name="api-password2" value="" autocomplete="off" /></td></tr>
                {{/if}}
                <tr><td></td><td><button class="btn btn-primary btn-block" type="submit">Save Profile</button></td></tr>
            </table>
        </form>
    </div>
</template>

<template name="userPanel">
    {{#if currentUser}}
        <div class="btn-group">
            <a href="#" class="btn btn-small dropdown-toggle" data-toggle="dropdown">{{currentUser.username}} <b class="caret"></b></a>
            <ul class="dropdown-menu pull-right">
                <li><a class="sign-out">Sign Out</a></li>
                <li><a class="edit-profile">Edit Profile</a></li>
            </ul>
        </div>
    {{/if}}
</template>
